<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Docker Tricky Quiz</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 10px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .timer-bar {
        background: #e74c3c;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 1.3em;
        font-weight: bold;
        display: none;
      }

      .timer-bar.warning {
        background: #f39c12;
        animation: pulse 1s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      .content {
        padding: 40px;
      }

      .student-info {
        margin-bottom: 30px;
      }

      .student-info input {
        width: 100%;
        padding: 12px;
        font-size: 1.1em;
        border: 2px solid #ddd;
        border-radius: 5px;
        margin-bottom: 10px;
      }

      .student-info input:focus {
        outline: none;
        border-color: #667eea;
      }

      .start-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.2em;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        transition: transform 0.2s;
      }

      .start-btn:hover {
        transform: translateY(-2px);
      }

      .start-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .section {
        display: none;
        animation: fadeIn 0.5s;
      }

      .section.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section-title {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 20px;
        border-radius: 5px;
        margin-bottom: 25px;
        font-size: 1.3em;
      }

      .question {
        margin-bottom: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #667eea;
      }

      .question-number {
        font-weight: bold;
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.1em;
      }

      .question-text {
        margin-bottom: 15px;
        line-height: 1.6;
      }

      pre {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        margin: 10px 0;
        font-size: 0.9em;
      }

      code {
        font-family: "Courier New", monospace;
      }

      input[type="text"],
      textarea {
        width: 100%;
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 5px;
        font-size: 1em;
        font-family: "Courier New", monospace;
      }

      textarea {
        min-height: 80px;
        resize: vertical;
      }

      input[type="text"]:focus,
      textarea:focus {
        outline: none;
        border-color: #667eea;
      }

      .options {
        margin-top: 10px;
      }

      .option {
        margin: 8px 0;
        padding: 10px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .option:hover {
        border-color: #667eea;
        background: #f0f4ff;
      }

      .option input[type="radio"] {
        margin-right: 10px;
      }

      .navigation {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
      }

      .nav-btn {
        padding: 12px 30px;
        font-size: 1.1em;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .prev-btn {
        background: #95a5a6;
        color: white;
      }

      .prev-btn:hover {
        background: #7f8c8d;
      }

      .next-btn,
      .submit-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .next-btn:hover,
      .submit-btn:hover {
        transform: translateY(-2px);
      }

      .nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .results {
        display: none;
        text-align: center;
        padding: 40px;
      }

      .results.active {
        display: block;
      }

      .results h2 {
        color: #2c3e50;
        font-size: 2em;
        margin-bottom: 20px;
      }

      .results-summary {
        background: #f8f9fa;
        padding: 30px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .download-btn {
        background: #27ae60;
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.2em;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 20px;
      }

      .download-btn:hover {
        background: #229954;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Docker Tricky Quiz</h1>
        <p>Test your Docker knowledge with 55 challenging questions</p>
      </div>
      <div class="timer-bar" id="timer">
        Time Remaining: <span id="time-display">4:00</span>
      </div>

      <div class="content">
        <!-- Student Info Section -->
        <div id="student-info-section" class="student-info">
          <h2>Before You Start</h2>
          <p style="margin: 20px 0">Please enter your information:</p>
          <input
            type="text"
            id="student-name"
            placeholder="Enter your full name"
            required
          />
          <input
            type="email"
            id="student-email"
            placeholder="Enter your email"
            required
          />
          <button class="start-btn" onclick="startQuiz()">Start Quiz</button>
        </div>

        <!-- Quiz Sections -->
        <div id="quiz-sections" class="hidden">
          <!-- Section 1: Questions 1-4 -->
          <div class="section" data-section="1">
            <div class="section-title">
              Section 1: Fill in the Missing Commands (Questions 1-4)
            </div>

            <div class="question">
              <div class="question-number">Question 1</div>
              <div class="question-text">
                Complete the command to run an nginx container with a bind 
                mount for the current working dir in the host:
                <pre><code>docker run -d --name web -v _____:/var/www/html nginx</code></pre>
              </div>
              <input type="text" id="q1" placeholder="Your answer" />
            </div>

            <div class="question">
              <div class="question-number">Question 2</div>
              <div class="question-text">
                Fill in the missing flag to expose all ports defined in the
                Dockerfile:
                <pre><code>docker run -d _____ my-image-1</code></pre>
              </div>
              <input type="text" id="q2" placeholder="Your answer" />
            </div>

            <div class="question">
              <div class="question-number">Question 3</div>
              <div class="question-text">
                Complete the command to connect a running container to a
                network:
                <pre><code>docker _________ ________ my-network my-container</code></pre>
              </div>
              <input type="text" id="q3" placeholder="Your answer" />
            </div>

            <div class="question">
              <div class="question-number">Question 4</div>
              <div class="question-text">
                Fill in the command to create a named volume:
                <pre><code>docker ________ create my-data</code></pre>
              </div>
              <input type="text" id="q4" placeholder="Your answer" />
            </div>
          </div>

          <!-- Section 2: Questions 5-8 -->
          <div class="section" data-section="2">
            <div class="section-title">
              Section 1 Continued: Fill in the Missing Commands (Questions 5-8)
            </div>

            <div class="question">
              <div class="question-number">Question 5</div>
              <div class="question-text">
                Complete the exec command to run bash interactively:
                <pre><code>docker exec _____ ubuntu1 bash</code></pre>
              </div>
              <input type="text" id="q5" placeholder="Your answer" />
            </div>

            <div class="question">
              <div class="question-number">Question 6</div>
              <div class="question-text">
                Fill in the flag to set an environment variable:
                <pre><code>docker run -d _____ MYSQL_ROOT_PASSWORD=secret mysql</code></pre>
              </div>
              <input type="text" id="q6" placeholder="Your answer" />
            </div>

            <div class="question">
              <div class="question-number">Question 8</div>
              <div class="question-text">
                Fill in the command to remove all stopped containers:
                <pre><code>docker container ________</code></pre>
              </div>
              <input type="text" id="q8" placeholder="Your answer" />
            </div>
          </div>

          <!-- Section 3: Questions 9-12 -->
          <div class="section" data-section="3">
            <div class="section-title">
              Section 2: What's Wrong? (Questions 9-12)
            </div>

            <div class="question">
              <div class="question-number">Question 9</div>
              <div class="question-text">
                What's wrong with this command sequence?
                <pre><code>docker run -d --name web -v mydata:/data nginx
                            docker volume create mydata</code></pre>
              </div>
              <textarea id="q9" placeholder="Explain what's wrong"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 10</div>
              <div class="question-text">
                What's the issue here?
                <pre><code>docker run -d -p 8080:80 --net=host nginx</code></pre>
              </div>
              <textarea id="q10" placeholder="Explain the issue"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 11</div>
              <div class="question-text">
                Identify the problem:
                <pre><code>docker run -d --name db -e MYSQL_ROOT_PASSWORD mysql:8.0</code></pre>
              </div>
              <textarea id="q11" placeholder="What's the problem?"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 12</div>
              <div class="question-text">
                What's incorrect in this sequence?
                <pre><code>docker run -d --name app1 nginx
                            docker run -d --name app1 nginx</code></pre>
              </div>
              <textarea id="q12" placeholder="Identify the error"></textarea>
            </div>
          </div>
          <!-- Section 4: Questions 13-16 -->
          <div class="section" data-section="4">
            <div class="section-title">
              Section 2 Continued: What's Wrong? (Questions 13-16)
            </div>

            <div class="question">
              <div class="question-number">Question 13</div>
              <div class="question-text">
                What's wrong with this volume mount?
                <pre><code>docker run -d -v /data nginx</code></pre>
              </div>
              <textarea id="q13" placeholder="Explain what's wrong"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 14</div>
              <div class="question-text">
                Find the error:
                <pre><code>docker exec my-container ls /data</code></pre>
              </div>
              <textarea id="q14" placeholder="What's the error?"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 15</div>
              <div class="question-text">
                What's the problem here?
                <pre><code>docker run -d --name web nginx
                            docker stop web
docker start web --name newweb</code></pre>
              </div>
              <textarea id="q15" placeholder="Identify the problem"></textarea>
            </div>
            <div class="question">
              <div class="question-number">Question 16</div>
              <div class="question-text">
                Identify the issue:
                <pre><code>docker network create my-net
                            docker run -d --name app --network my-net nginx
docker run -d --name db --network my-network mysql</code></pre>
              </div>
              <textarea id="q16" placeholder="What's wrong?"></textarea>
            </div>
          </div>
          <!-- Section 5: Questions 17-20 -->
          <div class="section" data-section="5">
            <div class="section-title">
              Section 3: Understanding Docker Flags (Questions 17-20)
            </div>

            <div class="question">
              <div class="question-number">Question 17</div>
              <div class="question-text">
                What does the -P flag do?
                <pre><code>docker run -d -P nginx</code></pre>
              </div>
              <div class="options">
                <label class="option"
                  ><input type="radio" name="q17" value="a" /> a) Publishes all
                  exposed ports to random ports on host</label
                >
                <label class="option"
                  ><input type="radio" name="q17" value="b" /> b) Makes the
                  container privileged</label
                >
                <label class="option"
                  ><input type="radio" name="q17" value="c" /> c) Sets the
                  container to pause mode</label
                >
                <label class="option"
                  ><input type="radio" name="q17" value="d" /> d) Pulls the
                  image before running</label
                >
              </div>
            </div>

            <div class="question">
              <div class="question-number">Question 18</div>
              <div class="question-text">
                What's the difference between these two commands?
                <pre><code># Command Adocker run -d -p 8080:80 nginx
Command B
docker run -d -P nginx</code></pre>
              </div>
              <textarea
                id="q18"
                placeholder="Explain the difference"
              ></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 19</div>
              <div class="question-text">
                What does this command do?
                <pre><code>docker run -d -e DATABASE_URL=postgres://db:5432 -e API_KEY=secret app</code></pre>
              </div>
              <textarea id="q19" placeholder="Explain what it does"></textarea>
            </div>

            <div class="question">
              <div class="question-number">Question 20</div>
              <div class="question-text">
                What's the difference between docker stop and docker kill?
              </div>
              <textarea
                id="q20"
                placeholder="Explain the difference"
              ></textarea>
            </div>
          </div>

          <!-- Continue with more sections... For brevity, I'll add navigation -->

          <div class="navigation">
            <button class="nav-btn prev-btn" onclick="previousSection()">
              Previous
            </button>
            <button class="nav-btn next-btn" onclick="nextSection()">
              Next
            </button>
            <button class="nav-btn submit-btn hidden" onclick="submitQuiz()">
              Submit Quiz
            </button>
          </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="results">
          <h2>Quiz Submitted Successfully!</h2>
          <div class="results-summary">
            <h3>Thank you, <span id="result-name"></span>!</h3>
            <p>Your answers have been recorded.</p>
            <p>
              <strong>Submission Time:</strong>
              <span id="submission-time"></span>
            </p>
          </div>
          <button class="download-btn" onclick="downloadResults()">
            Download Your Answers
          </button>
        </div>
      </div>
    </div>

    <script>
      let currentSection = 1;
      let totalSections = 5; // Adjust based on total sections
      let timerInterval;
      let timeRemaining = 240; // 4 minutes in seconds
      let studentName = "";
      let studentEmail = "";
      let answers = {};

      function startQuiz() {
        studentName = document.getElementById("student-name").value.trim();
        studentEmail = document.getElementById("student-email").value.trim();

        if (!studentName || !studentEmail) {
          alert("Please enter your name and email!");
          return;
        }

        document.getElementById("student-info-section").classList.add("hidden");
        document.getElementById("quiz-sections").classList.remove("hidden");
        document
          .querySelector('.section[data-section="1"]')
          .classList.add("active");
        startTimer();
      }

      function startTimer() {
        timeRemaining = 240; // Reset to 4 minutes
        document.getElementById("timer").style.display = "block";
        updateTimerDisplay();

        timerInterval = setInterval(() => {
          timeRemaining--;
          updateTimerDisplay();

          if (timeRemaining <= 60) {
            document.getElementById("timer").classList.add("warning");
          }

          if (timeRemaining <= 0) {
            clearInterval(timerInterval);
            autoAdvanceSection();
          }
        }, 1000);
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(timeRemaining / 60);
        const seconds = timeRemaining % 60;
        document.getElementById(
          "time-display"
        ).textContent = `${minutes}:${seconds.toString().padStart(2, "0")}`;
      }

      function autoAdvanceSection() {
        saveCurrentAnswers();
        if (currentSection < totalSections) {
          nextSection();
        } else {
          submitQuiz();
        }
      }

      function saveCurrentAnswers() {
        const currentSectionDiv = document.querySelector(
          `.section[data-section="${currentSection}"]`
        );
        const inputs = currentSectionDiv.querySelectorAll(
          'input[type="text"], textarea'
        );

        inputs.forEach((input) => {
          answers[input.id] = input.value;
        });

        // Save radio buttons
        const radios = currentSectionDiv.querySelectorAll(
          'input[type="radio"]:checked'
        );
        radios.forEach((radio) => {
          answers[radio.name] = radio.value;
        });
      }

      function nextSection() {
        saveCurrentAnswers();
        clearInterval(timerInterval);

        document
          .querySelector(`.section[data-section="${currentSection}"]`)
          .classList.remove("active");
        currentSection++;

        if (currentSection <= totalSections) {
          document
            .querySelector(`.section[data-section="${currentSection}"]`)
            .classList.add("active");
          startTimer();

          // Show/hide buttons
          document.querySelector(".prev-btn").style.display =
            currentSection > 1 ? "block" : "none";

          if (currentSection === totalSections) {
            document.querySelector(".next-btn").classList.add("hidden");
            document.querySelector(".submit-btn").classList.remove("hidden");
          }
        }
      }

      function previousSection() {
        saveCurrentAnswers();
        clearInterval(timerInterval);

        document
          .querySelector(`.section[data-section="${currentSection}"]`)
          .classList.remove("active");
        currentSection--;
        document
          .querySelector(`.section[data-section="${currentSection}"]`)
          .classList.add("active");
        startTimer();

        document.querySelector(".next-btn").classList.remove("hidden");
        document.querySelector(".submit-btn").classList.add("hidden");
      }

      function submitQuiz() {
        saveCurrentAnswers();
        clearInterval(timerInterval);

        document.getElementById("quiz-sections").classList.add("hidden");
        document.getElementById("results").classList.add("active");
        document.getElementById("timer").style.display = "none";

        document.getElementById("result-name").textContent = studentName;
        document.getElementById("submission-time").textContent =
          new Date().toLocaleString();

        // Log results to console (in production, send to server)
        console.log("Student:", studentName);
        console.log("Email:", studentEmail);
        console.log("Answers:", answers);
      }

      function downloadResults() {
        let resultsText = `Docker Quiz Results\n`;
        resultsText += `==================\n\n`;
        resultsText += `Student Name: ${studentName}\n`;
        resultsText += `Email: ${studentEmail}\n`;
        resultsText += `Submission Time: ${new Date().toLocaleString()}\n\n`;
        resultsText += `Answers:\n`;
        resultsText += `========\n\n`;

        for (let [question, answer] of Object.entries(answers)) {
          resultsText += `${question}: ${answer}\n\n`;
        }

        const blob = new Blob([resultsText], { type: "text/plain" });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `${studentName.replace(
          /\s+/g,
          "_"
        )}_docker_quiz_results.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      }

      // Initialize - hide prev button on start
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelector(".prev-btn").style.display = "none";
      });
    </script>
  </body>
</html>
